<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style type="text/css">
#yl{ width:200px; height:300px; background-image:url(images/11.png); background-size:200px 300px;}  //定义上传文件外层div样式 ，默认背景图片，大小
#file{ width:200px; height:300px; float:left; opacity:0;}    //定义上传文件的标签本身样式，标签的大小和外层div一致
</style>
</head>

<body>

<form id="sc" action="chuli.php" method="post" enctype="multipart/form-data" target="shangchuan"> //在下面的iframe框架中打开
    
    
    <input type="hidden" name="tp" value="" id="tp" />   //定义一个隐藏表单元素，用来显示当前图片的路径
    
    <div id="yl">
        <input type="file" name="file" id="file" onchange="document.getElementById('sc').submit()" />  //当点击上传就会提交表单内容
    </div>
    
    
    
</form>

<iframe style="display:none" name="shangchuan" id="shangchuan">
</iframe>


</body>

<script type="text/javascript">

//回调函数,调用该方法传一个文件路径，该变背景图
function showimg(url)
{
    var div = document.getElementById("yl");
    div.style.backgroundImage = "url("+url+")";
    
    document.getElementById("tp").value = url;
}

</script>

</html>